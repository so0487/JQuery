<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>ajax_basic_ex</title>
		<script src="../js/jquery-3.5.1.min.js"></script>
		<script>
			$(function() {
				$("#ajaxBtn").click(function() {
					/*
						name값과 age값을 가져온 후
						$.ajax()를 이용하여 파라미터로 두 값을 전달 : data
						result.jsp를 활용 : url
						
						
						
						result.jsp에서
						[{"name":"받은값","age":"받은 값"}]
					
						받는 형식은 json : datType
						
						성공을 하면 alert로 name/age로 출력

					 */

					$.ajax({
						url : "result.jsp",
						//data:"name="+ $("input[name='name']").val() + "&age="+ $("input[name='age']").val(),
						data : {
							"name" : $("input[name='name']").val(),
							"age" : $("input[name='age']").val()
						},
						type : "post",
						dataType : "json",
						success : function(result) {
							console.log(result);
							$.each(result, function(i) {
								alert(result[i].name);
								alert(result[i].age);
							})
						},
						error : function() {
							alert("error");
						}

					});

				});
			});
		</script>
	</head>
	<body>
		<form action="result.jsp">
			<input type="text" name="name"><br>
			<input type="text" name="age"><br>
			<input type="button" id="ajaxBtn" value="전송"><br>
		</form>
	</body>
</html>