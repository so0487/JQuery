<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>web storage(웹 스토리지)</title>
		<!-- 
			웹스토리지 :
			- 크기 제한이 없다 
			- 서버로 보내지 않고 브라우저에서 처리가 가능하다
			- 유효기간이 없다
			- javascript 객체를 저장할 수 있다 (복사본이 저장됨)
			- session storage와 local storage가 있다 
			
			session storage:
			- 도메인 마다 스토리지가 생성된다
			- 유효범위와 보존기간이 있다
			- 같은 브라우저 지만 새로 생성된 창에서는 세션이 달라 서로 다른 스토리지를 갖는다
			- 윈도우 복제로 생성된 윈도우에서는 스토리지도 복제된다
			
			local storage :
			- 도메인마다 스토리지가 생성된다 
			- 보존기간에 제한이 없다 (지우지 않는 한 영구적으로 저장된다)
			- 도메인이 다르면 서로의 스토리지에 접근할 수 없다 
			- 쿠키 대신에 고유 설정 정보등을 대신하기 좋다  
			
			쿠키(cookie) :
			- 4KB의 저장 용량을 갖는다 
			- 암호화 되지 않고 보내기 때문에 보안에 취약하다 
			- 사용자의 로컬에 텍스트로 저장되어 있어 쉽게 접근이 가능하다 
			
		
		 -->
		 <script>
		 	function setCookie(cname, cvalue, exdays) {
			  var d = new Date();
			  d.setTime(d.getTime() + (exdays*24*60*60*1000));
			  var expires = "expires="+ d.toUTCString();
			  document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
			}
		 
		 	function getCookie(cname) {
		 		  var name = cname + "=";
		 		  var decodedCookie = decodeURIComponent(document.cookie);
		 		  var ca = decodedCookie.split(';');
		 		  for(var i = 0; i <ca.length; i++) {
		 		    var c = ca[i];
		 		    while (c.charAt(0) == ' ') {
		 		      c = c.substring(1);
		 		    }
		 		    if (c.indexOf(name) == 0) {
		 		      return c.substring(name.length, c.length);
		 		    }
		 		  }
		 		  return decodedCookie;
		 		}
		 	
		 	function btnClick(){
		 		setCookie("exp_popup","yes",1);
		 	}
		 	function btnCheck(){
		 		alert(getCookie("exp_popup"));
		 	}
		 </script>
	</head>
	<body>
		<button onclick="btnClick();">쿠키를 생성해주세요</button>
		<button onclick="btnCheck();">쿠키를 확인해봅시다</button>
		
		<button onclick="del(); return false;">스토리지 삭제</button>
	<script>
		localStorage.setItem("lecture", "207");	
		localStorage.setItem("lecture2", "206");	
		
		var val = localStorage.getItem("lecture2");
		//alert(val);
		
		
		function del(){
			
			//로컬 스토리지에서 키 값을 이용한 삭제(한 개만 삭제)
			//localStorage.removeItem("lecture2");
			
			
			
			//로컬 스토리지에서 전부 삭제
			localStorage.clear();
		}
		
	</script>
	</body>
</html>